include(../lib/html/optinomic/page/start.m4)
<div ng-if="d.haveData">
    <md-fab-toolbar md-open="d.fab.isOpen" count="d.fab.tmt.count" md-direction="left">
        <md-fab-trigger class="align-with-text">
            <md-button aria-label="menu" class="md-fab md-primary">
                <i class="mdi mdi-menu mdi-fab" style="z-index:20"></i>
            </md-button>
        </md-fab-trigger>
        <md-toolbar>
            <md-fab-actions class="md-toolbar-tools">
                <md-button aria-label="Zeige klinische Stichprobe" ng-click="setZScore('show_clinicsample')" class="md-icon-button">
                    <i class="mdi mdi-ruler" style="color:#E8EAF6 !important; font-size:24px;"></i>
                </md-button>
                <md-button aria-label="Zeige Beschriftungstext" ng-click="setZScore('show_text')" class="md-icon-button">
                    <i class="mdi mdi-format-text" style="color:#E8EAF6 !important; font-size:24px;"></i>
                </md-button>
            </md-fab-actions>
        </md-toolbar>
    </md-fab-toolbar>
    <div ng-if="d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.altersgruppe_found">
        <h3 class="md-headline">TMT A | {{d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.altersgruppe_text}}</h3>
        <h3 class="md-subhead">
        <span ng-if="d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Hoher Ausbildsgrad</span><span ng-if="!d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Nigriger Ausbildsgrad</span> ({{d.dataMain.survey_responses[0].calculations[0].calculation_result.edu_years}} Jahre) | n={{d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.n}}
        </h3>
    </div>
    <div ng-if="!d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.altersgruppe_found">
        <h3 class="md-headline">TMT A</h3>
        <h3 class="md-subhead">
        <span ng-if="d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Hoher Ausbildsgrad</span><span ng-if="!d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Nigriger Ausbildsgrad</span> ({{d.dataMain.survey_responses[0].calculations[0].calculation_result.edu_years}} Jahre) | Keine Vergleichsaltersgruppe gefunden
        </h3>
    </div>
    <z-score data="d.zScore.tmt_a.eintritt"></z-score>
    <z-score data="d.zScore.tmt_a.austritt"></z-score>
    <div ng-repeat="response in d.dataMain.survey_responses | orderBy:['response.entity.data.filled']" layout="row" layout-align="space-between start" layout-margin>
        <div layout="column" layout-align="start center">
            <p class="md-caption">{{response.calculations[0].calculation_result.Messzeitpunkt.Messzeitpunkt_Text}}</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.entity.data.filled | date}}</p>
        </div>
        <div layout="column" layout-align="start center">
            <p class="md-caption">TMT A: Zeit</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.TMTATime}}</p>
        </div>
        <div layout="column" layout-align="start center">
            <p class="md-caption">TMT A: Fehler</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.TMTAError}}</p>
        </div>
        <div layout="column" layout-align="start center" ng-if="response.calculations[0].calculation_result.percentile.calculated">
            <p class="md-caption">TMT A: Perzentile</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.percentile.result.A}}</p>
        </div>
        <div layout="column" layout-align="start center">
            <p class="md-caption">B/A: Quotient</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.quotient_rounded}}</p>
        </div>
    </div>
    <div ng-if="d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.altersgruppe_found">
        <h3 class="md-headline">TMT B | {{d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.altersgruppe_text}}</h3>
        <h3 class="md-subhead">
        <span ng-if="d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Hoher Ausbildsgrad</span><span ng-if="!d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Nigriger Ausbildsgrad</span> ({{d.dataMain.survey_responses[0].calculations[0].calculation_result.edu_years}} Jahre) | n={{d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.n}}
        </h3>
    </div>
    <div ng-if="!d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.altersgruppe_found">
        <h3 class="md-headline">TMT B</h3>
        <h3 class="md-subhead">
        <span ng-if="d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Hoher Ausbildsgrad</span><span ng-if="!d.dataMain.survey_responses[0].calculations[0].calculation_result.percentile.age_perz.education_high">Nigriger Ausbildsgrad</span> ({{d.dataMain.survey_responses[0].calculations[0].calculation_result.edu_years}} Jahre) | Keine Vergleichsaltersgruppe gefunden
        </h3>
    </div>
    <z-score data="d.zScore.tmt_b.eintritt"></z-score>
    <z-score data="d.zScore.tmt_b.austritt"></z-score>
    <div ng-repeat="response in d.dataMain.survey_responses" layout="row" layout-align="space-between start" layout-margin>
        <div layout="column" layout-align="start center">
            <p class="md-caption">{{response.calculations[0].calculation_result.Messzeitpunkt.Messzeitpunkt_Text}}</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.entity.data.filled | date}}</p>
        </div>
        <div layout="column" layout-align="start center">
            <p class="md-caption">TMT B: Zeit</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.TMTBTime}}</p>
        </div>
        <div layout="column" layout-align="start center">
            <p class="md-caption">TMT B: Fehler</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.TMTBError}}</p>
        </div>
        <div layout="column" layout-align="start center" ng-if="response.calculations[0].calculation_result.percentile.calculated">
            <p class="md-caption">TMT B: Perzentile</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.percentile.result.B}}</p>
        </div>
        <div layout="column" layout-align="start center">
            <p class="md-caption">B/A: Quotient</p>
            <p class="md-subhead" style="margin-top:-12px;">{{response.calculations[0].calculation_result.quotient_rounded}}</p>
        </div>
    </div>
</div>
<div ng-if="!d.haveData">
    <h3 class="md-headline">Keine Daten</h3>
    <h3 class="md-subhead">Kein Assessment | Messungen vorhanden.</h3>
</div>
include(../lib/html/optinomic/page/end.m4)
