include(../lib/html/optinomic/page/start.m4)
<h3 class="md-headline">Datenexport: {{d.dataMain.apps.current.name}}</h3>
<div layout="row" layout-gt-xs="row" layout-xs="column" layout-align="start stretch" layout-padding>
    <div flex>
        <md-select ng-model="d.export_obj.format" ng-init="csv">
            <md-option value="csv">CSV</md-option>
            <md-option value="json">JSON</md-option>
        </md-select>
    </div>
    <div flex>
        <md-select ng-model="d.export_obj.direct" ng-init="True">
            <md-option value="False">File-Download</md-option>
            <md-option value="True">Screen</md-option>
        </md-select>
    </div>
    <div flex ng-if="d.export_obj.format === 'csv'">
        <md-select ng-model="d.export_obj.header" ng-init="True">
            <md-option value="True">With header</md-option>
            <md-option value="False">No header</md-option>
        </md-select>
    </div>
    <div flex ng-if="d.export_obj.format === 'csv'">
        <md-select ng-model="d.export_obj.delimitter" ng-init=";">
            <md-option value=";">Semicolon (;)</md-option>
            <md-option value=",">Comma (,)</md-option>
            <md-option value="|">Pipe (|)</md-option>
        </md-select>
    </div>
</div>
<div>
    <md-button ng-click="d.functions.doExport()" class="md-primary" aria-label="Export">
        Run SQL
    </md-button>
</div>
<md-toolbar class="md-menu-toolbar">
    <div layout="row">
        <md-toolbar-filler layout layout-align="center center">
            <md-icon md-svg-icon="call:chat"></md-icon>
        </md-toolbar-filler>
        <div>
            <h2 class="md-toolbar-tools">Untitled document</h2>
            <md-menu-bar>
                <md-menu>
                    <button ng-click="$mdOpenMenu()">
                        File
                    </button>
                    <md-menu-content>
                        <md-menu-item>
                            <md-button ng-click="ctrl.sampleAction('share', $event)">
                                Share...
                            </md-button>
                        </md-menu-item>
                        <md-menu-divider></md-menu-divider>
                        <md-menu-item>
                            <md-menu>
                                <md-button ng-click="$mdOpenMenu()">New</md-button>
                                <md-menu-content>
                                    <md-menu-item>
                                        <md-button ng-click="ctrl.sampleAction('New Document', $event)">Document</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="ctrl.sampleAction('New Spreadsheet', $event)">Spreadsheet</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="ctrl.sampleAction('New Presentation', $event)">Presentation</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="ctrl.sampleAction('New Form', $event)">Form</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="ctrl.sampleAction('New Drawing', $event)">Drawing</md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button ng-click="ctrl.sampleAction('Open', $event)">
                                Open...
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button disabled="disabled" ng-click="ctrl.sampleAction('Rename', $event)">
                                Rename
                            </md-button>
                        </md-menu-item>
                        <md-menu-divider></md-menu-divider>
                        <md-menu-item>
                            <md-button ng-click="ctrl.sampleAction('Print', $event)">
                                Print
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
                <md-menu>
                    <button ng-click="$mdOpenMenu()">
                        Edit
                    </button>
                    <md-menu-content>
                        <md-menu-item class="md-indent">
                            <md-icon md-svg-icon="undo"></md-icon>
                            <md-button ng-click="ctrl.sampleAction('undo', $event)">
                                Undo
                            </md-button>
                        </md-menu-item>
                        <md-menu-item class="md-indent">
                            <md-icon md-svg-icon="redo"></md-icon>
                            <md-button ng-click="ctrl.sampleAction('redo', $event)">
                                Redo
                            </md-button>
                        </md-menu-item>
                        <md-menu-divider></md-menu-divider>
                        <md-menu-item class="md-indent">
                            <md-icon md-svg-icon="content-cut"></md-icon>
                            <md-button ng-click="ctrl.sampleAction('cut', $event)">
                                Cut
                            </md-button>
                        </md-menu-item>
                        <md-menu-item class="md-indent">
                            <md-icon md-svg-icon="content-copy"></md-icon>
                            <md-button ng-click="ctrl.sampleAction('copy', $event)">
                                Copy
                            </md-button>
                        </md-menu-item>
                        <md-menu-item class="md-indent">
                            <md-icon md-svg-icon="content-paste"></md-icon>
                            <md-button ng-click="ctrl.sampleAction('paste', $event)">
                                Paste
                            </md-button>
                        </md-menu-item>
                        <md-menu-divider></md-menu-divider>
                        <md-menu-item class="md-indent">
                            <md-button ng-click="ctrl.sampleAction('Find and replace', $event)">
                                Find and replace...
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </md-menu-bar>
        </div>
    </div>
</md-toolbar>
<div class="page-container">
    <div class="page">
        <h1>Exportstring</h1>
        <div>
            <p>EXPORT</p>
            <pre>{{d.export_obj}}</pre>
        </div>
    </div>
</div>
<div>
    <md-input-container class="md-block">
        <label>SQL</label>
        <textarea ng-model="d.export_obj.sql_field" columns="1000"></textarea>
    </md-input-container>
</div>
<div ng-if="d.export_obj.have_data">
    <pre>{{d.export_obj.data}}</pre>
</div>
include(../lib/html/optinomic/page/end.m4)
