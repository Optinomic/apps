<div>
    <div layout="row" layout-xs="row" layout-gt-xs="row" layout-align="space-between end">
        <div flex>
            <h3 class="md-headline">Klinikstichprobe</h3>
            <p class="md-subhead">Daten-Explorer ({{d.ks.ks_versions.versions.selected.dimensions.length}}-Dimensionen | {{d.ks.app.calculations.selected}})</p>
        </div>
    </div>
</div>
<div layout="row" layout-xs="column" layout-gt-xs="row" layout-align="space-between center">
    <md-input-container flex ng-class="md-block" ng-repeat="dim in d.ks.ks_versions.versions.selected.dimensions">
        <label>{{dim.name}}</label>
        <md-select ng-model="dim.selected" ng-change="changeDimensions()">
            <md-option ng-repeat="item in dim.array" ng-value="item">
                {{item.text}}
            </md-option>
        </md-select>
    </md-input-container>
</div>
<div ng-if="d.ks.ks_versions.versions.selected.location.data !== null">
    <div class="grid-border-top" style="margin-top: 30px;">
        <div layout="row" layout-xs="row" layout-gt-xs="row" layout-align="space-between end">
            <div flex>
                <h3 class="md-headline">Daten-Explorer</h3>
                <p class="md-subhead">{{d.ks.ks_versions.versions.selected.location.text_full}}</p>
            </div>
        </div>
    </div>
    <div layout="row" layout-xs="column" layout-gt-xs="row" layout-align="space-between center">
        <md-input-container flex ng-class="md-block">
            <label>Datenexplorer</label>
            <md-select ng-model="d.ks.result_explorer.selected">
                <md-option ng-repeat="item in d.ks.result_explorer.types" ng-value="item">
                    {{item.name}}
                </md-option>
            </md-select>
        </md-input-container>
        <md-input-container flex ng-class="md-block" ng-if="d.ks.result_explorer.selected.id !== 0">
            <label>Datenexplorer</label>
            <md-select ng-model="d.ks.result_explorer.selected_var">
                <md-option ng-repeat="item in d.ks.ks_versions.versions.selected.dimensions" ng-value="item">
                    {{item}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <div ng-if="d.ks.result_explorer.selected.id === 0">
        <div class="grid-border-top" style="margin-top: 30px;">
            <div layout="row" layout-xs="row" layout-gt-xs="row" layout-align="space-between end">
                <div flex>
                    <h3 class="md-headline">Alle Daten</h3>
                </div>
            </div>
        </div>
        <p class="md-headline">Statistic</p>
        <p class="md-subhead">{{d.ks.ks_versions.versions.selected.location.text_full}}</p>
        <pre>{{d.ks.ks_versions.versions.selected.location.data.statistics | json}}</pre>
        <p class="md-headline">Scores & Patients</p>
        <p class="md-subhead">{{d.ks.ks_versions.versions.selected.location.text_full}}</p>
        <div layout="row" layout-xs="column" layout-gt-xs="row" layout-align="space-between start" layout-margin>
            <div flex>
                <p class="md-subhead">Scores</p>
                <pre>{{d.ks.ks_versions.versions.selected.location.data.scores | json}}</pre>
            </div>
            <div flex>
                <p class="md-subhead">Patients</p>
                <pre>{{d.ks.ks_versions.versions.selected.location.data.patients | json}}</pre>
            </div>
        </div>
    </div>
    <div ng-if="d.ks.result_explorer.selected.id !== 0">
        <div class="grid-border-top" style="margin-top: 30px;">
            <div layout="row" layout-xs="row" layout-gt-xs="row" layout-align="space-between end">
                <div flex>
                    <h3 class="md-headline">{{d.ks.result_explorer.selected_var}}</h3>
                    <p class="md-subhead">{{d.ks.md.selected_info.current_location_text}}</p>
                </div>
            </div>
        </div>
        <div layout="row" layout-xs="column" layout-gt-xs="row" layout-align="space-between start" layout-margin>
            <div flex="60">
                <p class="md-title">Statistic</p>
                <pre>{{d.ks.ks_versions.versions.selected.location.data.statistics[d.ks.result_explorer.selected_var] | json}}</pre>
            </div>
            <div flex="25">
                <p class="md-title">Scores</p>
                <pre>{{d.ks.ks_versions.versions.selected.location.data.scores[d.ks.result_explorer.selected_var] | json}}</pre>
            </div>
            <div flex="15">
                <p class="md-title">Patients</p>
                <pre>{{d.ks.ks_versions.versions.selected.location.data.patients | json}}</pre>
            </div>
        </div>
    </div>
</div>
<div ng-if="d.ks.ks_versions.versions.selected.location.data === null">
    <md-content class="md-padding">
        <h1 class="md-display-2"><i class="mdi mdi-bell-outline"></i> Keine Daten</h1>
        <p class="md-subhead">{{d.ks.ks_versions.versions.selected.location.text}}</p>
        <p class="flow-text">&nbsp;</p>
    </md-content>
</div>
